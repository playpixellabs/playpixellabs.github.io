<div class="hero_section">
  {{/*
  <h1>{{ .Title }}</h1>
  */}}
  <div class="hero-cards">
    {{ range where .Site.RegularPages "Type" "playlists" }} {{ partial
    "hero_card.html" . }} {{ end }}
    {{/*  {{ range where (where .Site.RegularPages "Type" "playlists") "Params.featured_playlist" true }}
  {{ partial "hero_card.html" . }}  */}}
    {{/*  {{ range where .Site.RegularPages "Params.featured_playlist" true }}
  {{ partial "hero_card.html" . }}
{{ end }}  */}}

  </div>
</div>

<style>
  .hero_section {
    background-color: #f0f0f0; /* Example background color */
    text-align: center;
    padding: 0px;
  }

  .hero_section h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
  }

  .hero-cards {
    display: flex; /* Makes the cards line up horizontally */
    overflow-x: scroll; /* Enables horizontal scrolling */
    flex-wrap: nowrap; /* Prevents wrapping to the next line */
    gap: 20px; /* Adds space between the cards */
    padding-bottom: 20px; /* Adds some space for the scrollbar */

    scrollbar-width: none; /* For Firefox */
    scrollbar-color: #ffffff #f1f1f1; /* For Firefox */
    -webkit-overflow-scrolling: touch; /* Improves scrolling on iOS */
  }

  /* For WebKit browsers (Chrome, Safari) */
  .hero-cards::-webkit-scrollbar {
    height: 10px;
  }

  .hero-cards::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
  }

  .hero-cards::-webkit-scrollbar-thumb {
    background: #ffffff;
    border-radius: 10px;
  }

  .hero-cards::-webkit-scrollbar-thumb:hover {
    background: #ffffff;
  }

  /* For WebKit browsers (Chrome, Safari) */
  .hero-cards::-webkit-scrollbar {
    display: none; /* Hides the scrollbar */
    width: 0; /* Hides the scrollbar */
    height: 0; /* Hides the scrollbar */
    scrollbar-width: none; /* For Firefox */
  }

  .hero-card {
    flex-shrink: 0; /* Prevents the card from shrinking */
    width: 300px; /* Gives the card a fixed width */
    height: 100%;
  }
  /*
  The hero_card.html partial would need its own styling to define
  the card's appearance (e.g., width, padding, box-shadow, etc.).
  For example:

  .hero_card {
    flex-shrink: 0; // Prevents cards from shrinking
    width: 300px;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    padding: 20px;
  }
*/

  /* -------------------- */
  /* Responsive CSS for smaller screens */
  /* -------------------- */

  @media (max-width: 768px) {
    .hero-cards {
      padding-left: 16px;
      padding-top: 20px;
    }
    .hero-card {
      aspect-ratio: 4/3;
    }
  }
</style>

<script>
  // Get the container for the cards
  const cardContainer = document.querySelector(".hero-cards");

  // Get the width of a single card plus the gap
  const cardWidth = 300;
  const gap = 20;
  const scrollAmount = cardWidth + gap;

  let scrollInterval; // Variable to hold the interval ID

  // Function to handle the scrolling
  function scrollCards() {
    if (
      cardContainer.scrollLeft + cardContainer.clientWidth >=
      cardContainer.scrollWidth
    ) {
      cardContainer.scrollTo({
        left: 0,
        behavior: "smooth",
      });
    } else {
      cardContainer.scrollBy({
        left: scrollAmount,
        behavior: "smooth",
      });
    }
  }

  // Function to start the automatic scrolling
  function startAutoScroll() {
    // Clear any existing interval to prevent multiple intervals from running
    clearInterval(scrollInterval);
    scrollInterval = setInterval(scrollCards, 2000);
  }

  // Function to stop the automatic scrolling
  function stopAutoScroll() {
    clearInterval(scrollInterval);
  }

  // Start the automatic scrolling initially
  startAutoScroll();

  // Add event listeners to pause/resume the scrolling
  cardContainer.addEventListener("mouseenter", stopAutoScroll); // Stop on mouse hover
  cardContainer.addEventListener("mouseleave", startAutoScroll); // Resume when mouse leaves

  // Optional: Add listeners for touch devices
  cardContainer.addEventListener("touchstart", stopAutoScroll); // Stop on touch
  cardContainer.addEventListener("touchend", startAutoScroll); // Resume on touch end

  // Optional: Add a listener to stop scrolling when the user manually scrolls
  let userScrolling;
  cardContainer.addEventListener("scroll", () => {
    stopAutoScroll();
    clearTimeout(userScrolling);
    // Resume scrolling 2 seconds after the user stops scrolling
    userScrolling = setTimeout(startAutoScroll, 3000);
  });
</script>
