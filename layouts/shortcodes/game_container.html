

<div id="game-container" class="game-container relative w-full aspect-video bg-gray-900 rounded-xl overflow-hidden shadow-2xl transition-all duration-300">
  <!-- This is where the content of the inner shortcode will be rendered -->
  {{ .Inner }}

  <!-- Fullscreen Toggle Button -->
  <button id="fullscreen-btn" class="absolute bottom-4 right-4 z-10 px-4 py-2 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-5v4m0 0h-4m0 0l-5-5m5 5l-5-5m5 5l5 5M4 16v4m0 0h4M4 20l5-5m11 5v-4m0 0h-4m4 4l-5-5"/>
    </svg>
    Fullscreen
  </button>
</div>

<script>
  // Wait for the DOM content to be fully loaded before running the script
  document.addEventListener('DOMContentLoaded', () => {
    const gameContainer = document.getElementById('game-container');
    const fullscreenBtn = document.getElementById('fullscreen-btn');

    // This function handles entering fullscreen mode
    const enterFullscreen = () => {
      if (gameContainer.requestFullscreen) {
        gameContainer.requestFullscreen();
      } else if (gameContainer.webkitRequestFullscreen) { /* Safari */
        gameContainer.webkitRequestFullscreen();
      } else if (gameContainer.msRequestFullscreen) { /* IE11 */
        gameContainer.msRequestFullscreen();
      }
    };

    // This function handles exiting fullscreen mode
    const exitFullscreen = () => {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) { /* Safari */
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE11 */
        document.msExitFullscreen();
      }
    };

    // Add a click event listener to the fullscreen button
    if (fullscreenBtn) {
      fullscreenBtn.addEventListener('click', () => {
        if (!document.fullscreenElement) {
          enterFullscreen();
        } else {
          exitFullscreen();
        }
      });
    }

    // Listen for the fullscreen change event to update the button text and container class
    document.addEventListener('fullscreenchange', () => {
      if (document.fullscreenElement) {
        gameContainer.classList.add('fullscreen');
        if (fullscreenBtn) {
          fullscreenBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m-2 2l-2-2m-2-2l-2-2m-2 2l-2-2m2 2l-2-2m-2 2l-2-2m2 2l-2-2m-2 2l-2-2m2 2l-2-2m-2 2l-2-2m2 2l-2-2m-2 2l-2-2m2 2l-2-2m-2 2l-2-2m2 2l-2-2"/></svg>Exit Fullscreen';
        }
      } else {
        gameContainer.classList.remove('fullscreen');
        if (fullscreenBtn) {
          fullscreenBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-5v4m0 0h-4m0 0l-5-5m5 5l-5-5m5 5l5 5M4 16v4m0 0h4M4 20l5-5m11 5v-4m0 0h-4m4 4l-5-5"/></svg>Fullscreen';
        }
      }
    });

    // Handle vendor-prefixed fullscreenchange events for broader browser support
    document.addEventListener('mozfullscreenchange', () => { /* Firefox */
      if (document.mozFullScreenElement) {
        gameContainer.classList.add('fullscreen');
      } else {
        gameContainer.classList.remove('fullscreen');
      }
    });

    document.addEventListener('webkitfullscreenchange', () => { /* Safari, Chrome */
      if (document.webkitFullscreenElement) {
        gameContainer.classList.add('fullscreen');
      } else {
        gameContainer.classList.remove('fullscreen');
      }
    });

    document.addEventListener('msfullscreenchange', () => { /* IE11 */
      if (document.msFullscreenElement) {
        gameContainer.classList.add('fullscreen');
      } else {
        gameContainer.classList.remove('fullscreen');
      }
    });
  });
</script>

<style>
  /* Base TailwindCSS classes for styling */
  @tailwind base;
  @tailwind components;
  @tailwind utilities;

  /* Custom styles for the fullscreen container */
  .game-container.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;
    border-radius: 0;
    max-width: none;
    aspect-ratio: auto;
  }
</style>
